{
  "log": { "level": "info" },
  "dns": {
    "servers": [
      { "tag": "secure", "type": "https", "server": "dns.google", "domain_resolver": "local" },
      { "tag": "local",  "type": "local" }
    ],
    "strategy": "prefer_ipv4"
  },
  "inbounds": [
    { "type": "socks", "tag": "socks-in", "listen": "127.0.0.1", "listen_port": 10808, "sniff": true },
    { "type": "http",  "tag": "http-in",  "listen": "127.0.0.1", "listen_port": 10809, "sniff": true }
  ],
  "outbounds": [
    {
      "type": "vless", "tag": "proxy",
      "server": "__HOST__", "server_port": __PORT__, "uuid": "__UUID__", "flow": "__FLOW__", "packet_encoding": "__PACKET_ENCODING__",
      "tls": {
        "enabled": true, "alpn": ["h2"], "server_name": "__SNI__",
        "utls": { "enabled": true, "fingerprint": "chrome" },
        "reality": { "enabled": true, "public_key": "__PUBKEY__", "short_id": "__SHORTID__" }
      },
__TRANSPORT_BLOCK__
__MULTIPLEX_BLOCK__
    },
    { "type": "direct", "tag": "direct" },
    { "type": "block",  "tag": "block" }
  ],
  "route": {
    "default_domain_resolver": "secure",
    "auto_detect_interface": true,
    "rules": [
      { "inbound": ["socks-in", "http-in"], "outbound": "proxy" },
      { "ip_is_private": true, "outbound": "direct" },
      { "rule_set": "geosite-category-ads-all", "outbound": "block" }
    ],
    "rule_set": [
      {
        "tag": "geosite-category-ads-all",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-category-ads-all.srs",
        "download_detour": "direct"
      }
    ]
  },
  "experimental": {
    "cache_file": { "enabled": true }
  }
}
